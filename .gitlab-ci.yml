image: node:16-alpine

stages:
  - test

.platform_job:
  tags:
    - platform

tests:
  stage: test
  extends: .platform_job
  image: mcr.microsoft.com/playwright:v1.31.0-focal
  before_script:
    - java --version
    - mvn --version
  script:
    - mvn clean test -DsuiteXmlFile='testng.xml'
  only:
    - develop